-- Tenant 2 multi-currency transactions over multiple months
-- Tenant: 22222222-2222-2222-2222-222222222222
-- Accounts used (from accounts-service V8/V9):
-- EUR: Cash(1000: 2a000001-...), AR(1020: 2a000003-...), COGS(5100: 2d000001-...), Product Sales(4100: 2c000001-...)
-- GBP: Bank(1010: 2a000002-...), AP(2000: 2b000001-...), Accrued(2100: 2b000002-...), Service Revenue(4200: 2c000002-...), Rent(5200: 2d000002-...)

-- Helper: define concrete UUIDs for readability below
-- TX-201 .. TX-210 across months Jan-Jun 2025

-- TX-201: EUR sale on account 900 vs Product Sales
INSERT INTO transactions (id, tenant_id, reference, timestamp, status, created_by, created_at)
VALUES ('22000000-0000-0000-0000-000000000201','22222222-2222-2222-2222-222222222222','TX-201','2025-01-05T10:00:00Z','POSTED','seed',NOW())
ON CONFLICT (id) DO NOTHING;
INSERT INTO transaction_lines (id, transaction_id, account_id, debit, credit, memo) VALUES
('22000000-0000-0000-0000-000000001201','22000000-0000-0000-0000-000000000201','2a000003-aaaa-aaaa-aaaa-aaaaaaaa0003',900.00,NULL,'EUR sale AR'),
('22000000-0000-0000-0000-000000002201','22000000-0000-0000-0000-000000000201','2c000001-cccc-cccc-cccc-cccccccc0001',NULL,900.00,'Product Sales EUR')
ON CONFLICT (id) DO NOTHING;

-- TX-202: GBP cash service 650 vs Service Revenue
INSERT INTO transactions VALUES ('22000000-0000-0000-0000-000000000202','22222222-2222-2222-2222-222222222222','TX-202','2025-01-12T15:30:00Z','POSTED','seed',NOW()) ON CONFLICT (id) DO NOTHING;
INSERT INTO transaction_lines VALUES
('22000000-0000-0000-0000-000000001202','22000000-0000-0000-0000-000000000202','2a000002-aaaa-aaaa-aaaa-aaaaaaaa0002',650.00,NULL,'GBP cash svc'),
('22000000-0000-0000-0000-000000002202','22000000-0000-0000-0000-000000000202','2c000002-cccc-cccc-cccc-cccccccc0002',NULL,650.00,'Service Revenue GBP')
ON CONFLICT (id) DO NOTHING;

-- TX-203: EUR COGS 300 reduce Inventory not present for T2 -> simulate from COGS vs Accrued
INSERT INTO transactions VALUES ('22000000-0000-0000-0000-000000000203','22222222-2222-2222-2222-222222222222','TX-203','2025-02-01T09:00:00Z','POSTED','seed',NOW()) ON CONFLICT (id) DO NOTHING;
INSERT INTO transaction_lines VALUES
('22000000-0000-0000-0000-000000001203','22000000-0000-0000-0000-000000000203','2d000001-dddd-dddd-dddd-dddddddd0001',300.00,NULL,'COGS accrued'),
('22000000-0000-0000-0000-000000002203','22000000-0000-0000-0000-000000000203','2b000002-bbbb-bbbb-bbbb-bbbbbbbb0002',NULL,300.00,'Accrued exp EUR')
ON CONFLICT (id) DO NOTHING;

-- TX-204: Pay GBP rent 400 from Bank
INSERT INTO transactions VALUES ('22000000-0000-0000-0000-000000000204','22222222-2222-2222-2222-222222222222','TX-204','2025-02-10T11:00:00Z','POSTED','seed',NOW()) ON CONFLICT (id) DO NOTHING;
INSERT INTO transaction_lines VALUES
('22000000-0000-0000-0000-000000001204','22000000-0000-0000-0000-000000000204','2d000002-dddd-dddd-dddd-dddddddd0002',400.00,NULL,'Rent GBP'),
('22000000-0000-0000-0000-000000002204','22000000-0000-0000-0000-000000000204','2a000002-aaaa-aaaa-aaaa-aaaaaaaa0002',NULL,400.00,'Bank payment GBP')
ON CONFLICT (id) DO NOTHING;

-- TX-205: Receive EUR AR 500 into Cash
INSERT INTO transactions VALUES ('22000000-0000-0000-0000-000000000205','22222222-2222-2222-2222-222222222222','TX-205','2025-03-03T13:00:00Z','POSTED','seed',NOW()) ON CONFLICT (id) DO NOTHING;
INSERT INTO transaction_lines VALUES
('22000000-0000-0000-0000-000000001205','22000000-0000-0000-0000-000000000205','2a000001-aaaa-aaaa-aaaa-aaaaaaaa0001',500.00,NULL,'AR receipt EUR'),
('22000000-0000-0000-0000-000000002205','22000000-0000-0000-0000-000000000205','2a000003-aaaa-aaaa-aaaa-aaaaaaaa0003',NULL,500.00,'Reduce AR EUR')
ON CONFLICT (id) DO NOTHING;

-- TX-206: GBP AP purchase 720 (Accrue AP)
INSERT INTO transactions VALUES ('22000000-0000-0000-0000-000000000206','22222222-2222-2222-2222-222222222222','TX-206','2025-03-20T10:30:00Z','POSTED','seed',NOW()) ON CONFLICT (id) DO NOTHING;
INSERT INTO transaction_lines VALUES
('22000000-0000-0000-0000-000000001206','22000000-0000-0000-0000-000000000206','2b000001-bbbb-bbbb-bbbb-bbbbbbbb0001',NULL,720.00,'AP GBP purchase'),
('22000000-0000-0000-0000-000000002206','22000000-0000-0000-0000-000000000206','2d000002-dddd-dddd-dddd-dddddddd0002',720.00,NULL,'Expense booked')
ON CONFLICT (id) DO NOTHING;

-- TX-207: Pay GBP AP 720 from Bank
INSERT INTO transactions VALUES ('22000000-0000-0000-0000-000000000207','22222222-2222-2222-2222-222222222222','TX-207','2025-04-02T09:00:00Z','POSTED','seed',NOW()) ON CONFLICT (id) DO NOTHING;
INSERT INTO transaction_lines VALUES
('22000000-0000-0000-0000-000000001207','22000000-0000-0000-0000-000000000207','2b000001-bbbb-bbbb-bbbb-bbbbbbbb0001',720.00,NULL,'Settle AP GBP'),
('22000000-0000-0000-0000-000000002207','22000000-0000-0000-0000-000000000207','2a000002-aaaa-aaaa-aaaa-aaaaaaaa0002',NULL,720.00,'Bank payment GBP')
ON CONFLICT (id) DO NOTHING;

-- TX-208: EUR service revenue 1100 cash
INSERT INTO transactions VALUES ('22000000-0000-0000-0000-000000000208','22222222-2222-2222-2222-222222222222','TX-208','2025-04-15T16:45:00Z','POSTED','seed',NOW()) ON CONFLICT (id) DO NOTHING;
INSERT INTO transaction_lines VALUES
('22000000-0000-0000-0000-000000001208','22000000-0000-0000-0000-000000000208','2a000001-aaaa-aaaa-aaaa-aaaaaaaa0001',1100.00,NULL,'Cash service EUR'),
('22000000-0000-0000-0000-000000002208','22000000-0000-0000-0000-000000000208','2c000001-cccc-cccc-cccc-cccccccc0001',NULL,1100.00,'Service rev EUR')
ON CONFLICT (id) DO NOTHING;

-- TX-209: Accrue EUR expenses 260
INSERT INTO transactions VALUES ('22000000-0000-0000-0000-000000000209','22222222-2222-2222-2222-222222222222','TX-209','2025-05-05T09:30:00Z','POSTED','seed',NOW()) ON CONFLICT (id) DO NOTHING;
INSERT INTO transaction_lines VALUES
('22000000-0000-0000-0000-000000001209','22000000-0000-0000-0000-000000000209','2d000001-dddd-dddd-dddd-dddddddd0001',260.00,NULL,'COGS accrual EUR'),
('22000000-0000-0000-0000-000000002209','22000000-0000-0000-0000-000000000209','2b000002-bbbb-bbbb-bbbb-bbbbbbbb0002',NULL,260.00,'Accrued EUR')
ON CONFLICT (id) DO NOTHING;

-- TX-210: Receive EUR AR 400 to Cash
INSERT INTO transactions VALUES ('22000000-0000-0000-0000-000000000210','22222222-2222-2222-2222-222222222222','TX-210','2025-06-01T10:00:00Z','POSTED','seed',NOW()) ON CONFLICT (id) DO NOTHING;
INSERT INTO transaction_lines VALUES
('22000000-0000-0000-0000-000000001210','22000000-0000-0000-0000-000000000210','2a000001-aaaa-aaaa-aaaa-aaaaaaaa0001',400.00,NULL,'AR receipt EUR'),
('22000000-0000-0000-0000-000000002210','22000000-0000-0000-0000-000000000210','2a000003-aaaa-aaaa-aaaa-aaaaaaaa0003',NULL,400.00,'Reduce AR EUR')
ON CONFLICT (id) DO NOTHING;
