(()=>{var e={};e.id=28,e.ids=[28],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},209:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},9733:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>o});var r=s(3003),a=s(4293),i=s(6550),n=s.n(i),l=s(6979),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let o=["",{children:["audit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,760)),"/Users/selamawitzere/Downloads/ledger-pay/web/app/audit/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,6877)),"/Users/selamawitzere/Downloads/ledger-pay/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,2075,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/selamawitzere/Downloads/ledger-pay/web/app/audit/page.tsx"],p={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/audit/page",pathname:"/audit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},9044:(e,t,s)=>{Promise.resolve().then(s.bind(s,6351))},6351:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(8819),a=s(5859),i=s(108),n=s(6824);function l(){let e=(0,i.a)({queryKey:["audit-logs"],queryFn:async()=>(await n.Je.get("/api/v1/audit")).data});return(0,r.jsx)(a.p,{requiredRoles:["ADMIN","AUDITOR"],children:(0,r.jsxs)("div",{className:"min-h-screen p-6 space-y-8 fade-in",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gradient",children:"Audit Logs"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-purple-500 rounded-full animate-pulse"}),(0,r.jsx)("span",{className:"text-sm text-slate-600",children:"Audit Access"})]})]}),(0,r.jsx)("div",{className:"glass-card rounded-2xl p-6",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full text-sm",children:[(0,r.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-slate-700",children:"Timestamp"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-slate-700",children:"Event"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-slate-700",children:"User"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-slate-700",children:"Details"})]})}),(0,r.jsxs)("tbody",{children:[e.data?.map((e,t)=>r.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50 transition-colors",children:[r.jsx("td",{className:"px-4 py-3 text-slate-600",children:e.timestamp}),r.jsx("td",{className:"px-4 py-3 font-medium",children:e.event}),r.jsx("td",{className:"px-4 py-3",children:e.userId}),r.jsx("td",{className:"px-4 py-3 text-slate-600",children:e.details})]},t)),e.isLoading&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{className:"px-4 py-8 text-center text-slate-500",colSpan:4,children:(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-purple-500 border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("span",{children:"Loading audit logs..."})]})})}),!e.isLoading&&(!e.data||0===e.data.length)&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{className:"px-4 py-8 text-center text-slate-500",colSpan:4,children:"No audit logs found"})})]})]})})})]})})}},5859:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var r=s(8819),a=s(2991);function i({children:e,requiredRoles:t}){return(0,a.Ac)(t)?(0,r.jsx)(r.Fragment,{children:e}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access this page."}),(0,r.jsx)("a",{href:"/dashboard",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Return to Dashboard"})]})})}},6824:(e,t,s)=>{"use strict";s.d(t,{Je:()=>o,SX:()=>n,qT:()=>l});var r=s(4464);let a=process.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:8090",i=r.Z.create({baseURL:`${a}`,headers:{"Content-Type":"application/json"}}),n=r.Z.create({baseURL:`${a}`,headers:{"Content-Type":"application/json"}}),l=r.Z.create({baseURL:`${a}`,headers:{"Content-Type":"application/json"}}),d=r.Z.create({baseURL:`${a}`,headers:{"Content-Type":"application/json"}}),o=r.Z.create({baseURL:`${a}`,headers:{"Content-Type":"application/json"}});[i,n,l,d,o].forEach(e=>{e.interceptors.request.use(e=>e)})},760:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>e});var a=s(1851);let e=(await (0,a.createProxy)(String.raw`/Users/selamawitzere/Downloads/ledger-pay/web/app/audit/page.tsx`)).default;r()}catch(e){r(e)}},1)},7481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(771);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[147,327,771,193,410],()=>s(9733));module.exports=r})();