(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[220],{9440:(e,t,s)=>{Promise.resolve().then(s.bind(s,7377))},7377:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(7437),l=s(5118),n=s(6264),r=s(2265),c=s(5727);function o(){var e,t;let[s,o]=(0,r.useState)(0),[i]=(0,r.useState)(10),d=(0,l.a)({queryKey:["tx",s,i],queryFn:async()=>(await n.qT.get("/api/v1/transactions",{params:{page:s,size:i}})).data}),x=null!==(t=null===(e=d.data)||void 0===e?void 0:e.content)&&void 0!==t?t:[];return(0,a.jsx)(c.p,{requiredRoles:["ADMIN","USER"],children:(0,a.jsxs)("div",{className:"space-y-6 fade-in",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gradient",children:"Transaction History"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-emerald-500 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"text-sm text-slate-600",children:"Transaction Access"})]})]}),(0,a.jsxs)("div",{className:"glass-card rounded-2xl p-6",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full text-sm",children:[(0,a.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-slate-700",children:"Reference"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-slate-700",children:"Timestamp"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-slate-700",children:"Status"})]})}),(0,a.jsxs)("tbody",{children:[x.map(e=>(0,a.jsxs)("tr",{className:"border-b border-slate-100 hover:bg-slate-50 transition-colors",children:[(0,a.jsx)("td",{className:"px-4 py-3 font-mono text-blue-600",children:e.reference}),(0,a.jsx)("td",{className:"px-4 py-3 text-slate-600",children:e.timestamp}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("SUCCESS"===e.status?"bg-emerald-100 text-emerald-800":"PENDING"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status})})]},e.id)),d.isLoading&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{className:"px-4 py-8 text-center text-slate-500",colSpan:3,children:(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-emerald-500 border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{children:"Loading transactions..."})]})})}),!d.isLoading&&0===x.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{className:"px-4 py-8 text-center text-slate-500",colSpan:3,children:"No transactions found"})})]})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-slate-200",children:[(0,a.jsxs)("div",{className:"text-sm text-slate-600",children:["Showing ",x.length," transactions"]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("button",{className:"btn-secondary px-4 py-2 text-sm disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>o(e=>Math.max(0,e-1)),disabled:0===s,children:"Previous"}),(0,a.jsxs)("div",{className:"text-sm font-medium text-slate-700",children:["Page ",s+1]}),(0,a.jsx)("button",{className:"btn-secondary px-4 py-2 text-sm disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>o(e=>e+1),disabled:x.length<i,children:"Next"})]})]})]})]})})}},5727:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var a=s(7437),l=s(5216);function n(e){let{children:t,requiredRoles:s}=e;return(0,l.Ac)(s)?(0,a.jsx)(a.Fragment,{children:t}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access this page."}),(0,a.jsx)("a",{href:"/dashboard",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Return to Dashboard"})]})})}},6264:(e,t,s)=>{"use strict";s.d(t,{Je:()=>i,SX:()=>r,qT:()=>c});var a=s(8472);let l=s(357).env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:8090",n=a.Z.create({baseURL:"".concat(l),headers:{"Content-Type":"application/json"}}),r=a.Z.create({baseURL:"".concat(l),headers:{"Content-Type":"application/json"}}),c=a.Z.create({baseURL:"".concat(l),headers:{"Content-Type":"application/json"}}),o=a.Z.create({baseURL:"".concat(l),headers:{"Content-Type":"application/json"}}),i=a.Z.create({baseURL:"".concat(l),headers:{"Content-Type":"application/json"}});[n,r,c,o,i].forEach(e=>{e.interceptors.request.use(e=>{{let t=localStorage.getItem("lp_token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e})})},5216:(e,t,s)=>{"use strict";s.d(t,{$8:()=>x,Ac:()=>p,KY:()=>r,Ov:()=>o,cY:()=>d,jM:()=>i,my:()=>c,nu:()=>m});let a=null,l=null,n=null;function r(e,t,s){a=e,l=t,n=s,localStorage.setItem("lp_token",e),localStorage.setItem("lp_tenantId",t),localStorage.setItem("lp_role",s)}function c(){a=localStorage.getItem("lp_token"),l=localStorage.getItem("lp_tenantId"),n=localStorage.getItem("lp_role")}function o(){a=null,l=null,n=null,localStorage.removeItem("lp_token"),localStorage.removeItem("lp_tenantId"),localStorage.removeItem("lp_role")}function i(){return l||(l=localStorage.getItem("lp_tenantId"))}function d(){return n||(n=localStorage.getItem("lp_role"))}function x(){return!!(a||(a=localStorage.getItem("lp_token")))}function m(e){return d()===e}function p(e){let t=d();return!!t&&e.includes(t)}}},e=>{var t=t=>e(e.s=t);e.O(0,[336,760,130,215,744],()=>t(9440)),_N_E=e.O()}]);